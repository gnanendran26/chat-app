<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bootstrap Chat App</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1.5.2/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<style>
/* --- UPDATED CSS START --- */
body { 
    height: 100vh; 
    display: flex; 
    flex-direction: column; 
    background-color: #f8f9fa; /* Light background for the whole page */
}

.container-fluid.h-100 {
    display: flex;
    flex-direction: column;
}

#chatContainer { 
    flex: 1; 
    display: flex; 
    overflow: hidden; 
    border-radius: 8px; /* Give the whole chat box rounded corners */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    background-color: white; /* Make the chat area white */
    margin-bottom: 10px;
}

#messages { 
    list-style: none; 
    padding: 15px; 
    overflow-y: auto; 
    flex: 1; 
    border: none !important; 
    border-radius: 0 !important;
    margin-bottom: 0; /* Remove default ul margin */
}

/* Chat bubble styling */
#messages li {
    padding: 8px 12px;
    border-radius: 15px; 
    max-width: 80%;
    margin-bottom: 10px;
    word-wrap: break-word;
}

/* Style for messages from the current user (you) */
.message-self {
    background-color: #0d6efd; /* Bootstrap primary color */
    color: white;
    margin-left: auto; /* Push to the right */
    text-align: right;
}

/* Style for messages from others */
.message-other {
    background-color: #f1f0f0; /* Light gray bubble */
    color: #333;
    margin-right: auto; /* Keep on the left */
    text-align: left;
}

#onlineUsers { 
    width: 200px; 
    border-left: 1px solid #eee; 
    padding: 15px; 
    overflow-y: auto; 
    background-color: #f8f9fa; /* Light background for the sidebar */
}

#onlineUsers h6 {
    border-bottom: 2px solid #ddd;
    padding-bottom: 5px;
    margin-bottom: 10px;
    font-weight: bold;
    color: #555;
}

#users {
    padding-left: 0;
}

/* Ensure the message input section is flush with the bottom */
.mt-2 {
    margin-top: 0 !important;
    padding-bottom: 10px;
}

@media (max-width: 576px) { 
    #chatContainer { flex-direction: column; } 
    #onlineUsers { 
        width: 100%; 
        border-left: none; 
        border-top: 1px solid #ddd; 
        height: 100px; /* Limit height on mobile */
    } 
}
/* --- UPDATED CSS END --- */
</style>
</head>
<body>
<div class="container-fluid h-100">
    <h2 class="mt-3 mb-3 text-center">Chat App</h2>
    
    <div id="usernamePrompt" class="mb-3"> 
        <input type="text" id="username" class="form-control" placeholder="Enter your name to start chatting">
    </div>
    
    <div id="chatContainer">
        <ul id="messages" class="flex-grow-1"></ul>
        <div id="onlineUsers">
            <h6>Online</h6>
            <ul id="users" class="list-unstyled"></ul>
        </div>
    </div>
    
    <div class="mt-2 input-group">
        <input type="text" id="message" class="form-control" placeholder="Enter message" onkeyup="if(event.key === 'Enter') sendMessage()">
        <button class="btn btn-primary" onclick="sendMessage()">Send</button>
    </div>
</div>
<script src="js/chat.js"></script>
</body>
</html>